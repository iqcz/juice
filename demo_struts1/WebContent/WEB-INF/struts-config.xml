<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE struts-config PUBLIC "-//Apache Software Foundation//DTD Struts Configuration 1.2//EN" "http://struts.apache.org/dtds/struts-config_1_2.dtd">

<struts-config>
	<data-sources>
		<data-source type="org.apache.commons.dbcp.BasicDataSource">
			<set-property property="driverClassName"
				value="com.mysql.jdbc.Driver" />
			<set-property property="url"
				value="jdbc:mysql://localhost:3306/demo" />
			<set-property property="username" value="root" />
			<set-property property="password" value="admin" />
			<set-property property="maxActive" value="10" />
			<set-property property="maxWait" value="5000" />
			<set-property property="defaultAutoCommit" value="false" />
			<set-property property="defaultReadOnly" value="false" />
			<set-property property="validationQuery"
				value="SELECT COUNT(*) FROM user" />
		</data-source>
	</data-sources>
	<form-beans>
		<form-bean name="loginForm"
			type="com.demo.struts.forms.LoginForm">
		</form-bean>
		<form-bean name="registerForm"
			type="com.demo.struts.forms.RegisterForm">
		</form-bean>
	</form-beans>

	<global-exceptions />
	<global-forwards>
		<forward name="welcome" path="/welcome.do" />
		<forward name="login" path="/login.do" />
	</global-forwards>

	<action-mappings>
		<action path="/index" forward="/login.jsp" />
		<action path="/welcome" forward="/welcome.jsp" />
		<action path="/menu1" forward="/menu1.jsp" />
		<action path="/menu2" forward="/menu2.jsp" />
		<action path="/menu3" forward="/menu3.jsp" />
		<action path="/menu4" forward="/menu4.jsp" />
		<action path="/menu5" forward="/menu5.jsp" />
		<action path="/menu6" forward="/menu6.jsp" />
		<action path="/menu7" forward="/menu7.jsp" />
		<action path="/menu8" forward="/menu8.jsp" />

		<action path="/login" name="loginForm" scope="request"
			type="com.demo.struts.actions.LoginAction" input="/login.jsp">
			<forward name="success" path="/welcome.jsp" />
			<forward name="failure" path="/login.jsp" />
		</action>

		<action path="/logout"
			type="com.demo.struts.actions.LogoutAction">
			<forward name="logout" path="/login.jsp" />
		</action>

		<action path="/register" parameter="method" name="registerForm"
			scope="request" type="com.demo.struts.actions.RegisterAction"
			input="/register.jsp">
			<forward name="success" path="/login.jsp" />
			<forward name="failure" path="/register.jsp" />
		</action>

	</action-mappings>

	<message-resources parameter="com.demo.struts.resources.ApplicationResources" />
	
</struts-config>

